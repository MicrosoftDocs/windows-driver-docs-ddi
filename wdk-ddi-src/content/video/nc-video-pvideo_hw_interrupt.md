---
UID: NC:video.PVIDEO_HW_INTERRUPT
title: PVIDEO_HW_INTERRUPT
author: windows-driver-content
description: HwVidInterrupt detects and dismisses interrupts generated by the associated video adapter.
old-location: display\hwvidinterrupt.htm
tech.root: display
ms.assetid: 523471e3-cf1e-48d2-b5f0-2f8d19ad71e0
ms.date: 05/10/2018
ms.keywords: HwVidInterrupt, HwVidInterrupt callback function [Display Devices], PVIDEO_HW_INTERRUPT, PVIDEO_HW_INTERRUPT callback, VideoMiniport_Functions_9c3ff1cb-9812-461c-8ac5-b6cbdbe63c59.xml, display.hwvidinterrupt, video/HwVidInterrupt
ms.topic: callback
req.header: video.h
req.include-header: Video.h
req.target-type: Desktop
req.target-min-winverclnt: 
req.target-min-winversvr: 
req.kmdf-ver: 
req.umdf-ver: 
req.ddi-compliance: 
req.unicode-ansi: 
req.idl: 
req.max-support: 
req.namespace: 
req.assembly: 
req.type-library: 
req.lib: 
req.dll: 
req.irql: 
topic_type:
-	APIRef
-	kbSyntax
api_type:
-	UserDefined
api_location:
-	video.h
api_name:
-	HwVidInterrupt
product:
- Windows
targetos: Windows
req.typenames: 
---

# PVIDEO_HW_INTERRUPT callback function


## -description


<i>HwVidInterrupt</i> detects and dismisses interrupts generated by the associated video adapter.


## -parameters




### -param HwDeviceExtension

Pointer to the miniport driver's per-adapter storage area. For more information, see <a href="https://msdn.microsoft.com/library/windows/hardware/ff543119">Device Extensions</a>.


## -returns



If <i>HwVidInterrupt</i> determines that its associated hardware did not generate the interrupt, it returns <b>FALSE</b>. Otherwise, it must dismiss the interrupt on its adapter before it returns <b>TRUE</b>.




## -remarks



A miniport driver must implement <i>HwVidInterrupt</i> if its video adapter generates interrupts.

First, <i>HwVidInterrupt</i> should determine whether its adapter actually caused the interrupt. If not, this function should return <b>FALSE</b> immediately so the ISR of the device that caused the interrupt will be called promptly.

Otherwise, <i>HwVidInterrupt</i> is generally responsible for completing the I/O operation that caused the interrupt, and should do the following:

<ul>
<li>
Dismiss the interrupt on the adapter (required).

</li>
<li>
Complete the requested operation that caused the interrupt.

</li>
<li>
Return control as quickly as possible (required).

</li>
</ul>
If a miniport driver has an <i>HwVidInterrupt</i> function, no register or memory location that can be accessed by <i>HwVidInterrupt</i> can be visible to the corresponding display driver. An interrupt can occur while the display driver is modifying one of the registers or memory locations involved, and there is no way to ensure synchronization. Therefore, all functions requiring access to the critical registers or memory locations for interrupt-driven operations must be in the miniport driver.

If any other miniport driver function shares memory, such as part of the <i>HwDeviceExtension</i>, with <i>HwVidInterrupt</i>, it must call <b>VideoPortSynchronizeExecution</b> to synchronize its access to the shared area.

<i>HwVidInterrupt</i> can call only the following system-supplied <b>VideoPort</b><i>Xxx</i> routines (see <a href="https://msdn.microsoft.com/library/windows/hardware/ff566461">Functions Exported by the Video Port Driver</a>):

<ul>
<li>

<a href="https://msdn.microsoft.com/library/windows/hardware/ff570339">VideoPortQueueDpc</a>


</li>
<li>

<a href="https://msdn.microsoft.com/library/windows/hardware/ff570492">VideoPortZeroDeviceMemory</a> and <a href="https://msdn.microsoft.com/library/windows/hardware/ff570493">VideoPortZeroMemory</a>


</li>
<li>

<a href="https://msdn.microsoft.com/library/windows/hardware/ff570328">VideoPortLogError</a>


</li>
<li>

<a href="https://msdn.microsoft.com/library/windows/hardware/ff570368">VideoPortStallExecution</a> for no more than a very few microseconds. If possible, <i>HwVidInterrupt</i> should avoid calling this function.

</li>
<li>
All <b>VideoPortRead</b><i>Xxx</i> and <b>VideoPortWrite</b><i>Xxx</i> routines.

</li>
<li>

<a href="https://msdn.microsoft.com/library/windows/hardware/ff570294">VideoPortDisableInterrupt</a> (obsolete)

</li>
<li>

<a href="https://msdn.microsoft.com/library/windows/hardware/ff570296">VideoPortEnableInterrupt</a> (obsolete)

</li>
</ul>
<i>HwVidInterrupt</i> must <i>not</i> call any <b>VideoPort</b><i>Xxx</i> function that is not in the preceding list. Violation of this requirement will cause system failure (a "blue screen").

A <i>HwVidInterrupt</i> function cannot be pageable, nor can any function that it calls.




## -see-also




<a href="https://msdn.microsoft.com/library/windows/hardware/ff566461">Functions Exported by the Video Port Driver</a>



<a href="https://msdn.microsoft.com/04e3bac6-c905-4c95-bd1b-e85b46c4296d">HwVidSynchronizeExecutionCallback</a>



<a href="https://msdn.microsoft.com/library/windows/hardware/ff570294">VideoPortDisableInterrupt</a>



<a href="https://msdn.microsoft.com/library/windows/hardware/ff570296">VideoPortEnableInterrupt</a>



<a href="https://msdn.microsoft.com/library/windows/hardware/ff570328">VideoPortLogError</a>



<a href="https://msdn.microsoft.com/library/windows/hardware/ff570368">VideoPortStallExecution</a>



<a href="https://msdn.microsoft.com/library/windows/hardware/ff570372">VideoPortSynchronizeExecution</a>



<a href="https://msdn.microsoft.com/library/windows/hardware/ff570492">VideoPortZeroDeviceMemory</a>



<a href="https://msdn.microsoft.com/library/windows/hardware/ff570493">VideoPortZeroMemory</a>
 

 

